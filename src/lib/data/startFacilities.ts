import type { StartFacilityDefinition, TradeAreaDefinition } from '../types/start'

export const TRADE_AREAS: TradeAreaDefinition[] = [
  {
    id: 'north-florida',
    name: 'North Florida',
    demandIndex: 0.72,
    competition: 0.32,
    operatingCostFactor: 0.84,
    baseRate: 0.067,
    climateRisk: 0.28,
    avgCapRate: 0.06,
    description: 'Underserved rural and suburban corridors with pent-up demand.',
  },
  {
    id: 'central-florida',
    name: 'Central Florida',
    demandIndex: 0.94,
    competition: 0.76,
    operatingCostFactor: 0.96,
    baseRate: 0.071,
    climateRisk: 0.36,
    avgCapRate: 0.06,
    description: 'Heated metro competition with aggressive rate wars.',
  },
  {
    id: 'south-florida',
    name: 'South Florida',
    demandIndex: 0.88,
    competition: 0.81,
    operatingCostFactor: 1.05,
    baseRate: 0.073,
    climateRisk: 0.48,
    avgCapRate: 0.06,
    description: 'Dense coastal market with strong seasonality swings.',
  },
]

// Expenses are calibrated so revenue minus operating costs roughly matches a 6% cap rate
export const START_FACILITIES: StartFacilityDefinition[] = [
  {
    id: 'nf-lakeside',
    regionId: 'north-florida',
    name: 'Lakeside Lockup',
    city: 'Palmetto Springs, FL',
    price: 820_000,
    sizeSqft: 52_000,
    occupancy: 0.68,
    avgRentPerSqft: 0.96,
    expensesAnnual: 439_600,
    issues: ['outdated lighting', 'manual gate operations'],
    expansionPotential: 0.18,
    totalUnits: 420,
    debtService: 5_415,
    mix: {
      climateControlled: 140,
      driveUp: 210,
      vault: 70,
    },
  },
  {
    id: 'nf-pine-hollow',
    regionId: 'north-florida',
    name: 'Pine Hollow Storage',
    city: 'Ocala Ridge, FL',
    price: 910_000,
    sizeSqft: 58_500,
    occupancy: 0.74,
    avgRentPerSqft: 1.02,
    expensesAnnual: 583_000,
    issues: ['underpriced units', 'dated signage'],
    expansionPotential: 0.24,
    totalUnits: 455,
    debtService: 6_010,
    mix: {
      climateControlled: 150,
      driveUp: 235,
      vault: 70,
    },
  },
  {
    id: 'nf-atlantic',
    regionId: 'north-florida',
    name: 'Atlantic Bay Mini Storage',
    city: 'Fernandina Coast, FL',
    price: 760_000,
    sizeSqft: 48_000,
    occupancy: 0.63,
    avgRentPerSqft: 0.9,
    expensesAnnual: 345_100,
    issues: ['storm hardening required', 'manual billing workflows'],
    expansionPotential: 0.22,
    totalUnits: 390,
    debtService: 5_019,
    mix: {
      climateControlled: 120,
      driveUp: 210,
      vault: 60,
    },
  },
  {
    id: 'cf-metrowest',
    regionId: 'central-florida',
    name: 'MetroWest Vaults',
    city: 'Orlando Gateway, FL',
    price: 980_000,
    sizeSqft: 61_000,
    occupancy: 0.82,
    avgRentPerSqft: 1.32,
    expensesAnnual: 802_600,
    issues: ['HVAC nearing end-of-life', 'marketing underfunded'],
    expansionPotential: 0.16,
    totalUnits: 510,
    debtService: 6_660,
    mix: {
      climateControlled: 210,
      driveUp: 220,
      vault: 80,
    },
  },
  {
    id: 'cf-i4-express',
    regionId: 'central-florida',
    name: 'I-4 Express Storage Hub',
    city: 'Kissimmee Logistics Belt, FL',
    price: 1_040_000,
    sizeSqft: 64_500,
    occupancy: 0.77,
    avgRentPerSqft: 1.28,
    expensesAnnual: 766_700,
    issues: ['underpriced climate units', 'outdated lighting'],
    expansionPotential: 0.21,
    totalUnits: 540,
    debtService: 7_068,
    mix: {
      climateControlled: 220,
      driveUp: 230,
      vault: 90,
    },
  },
  {
    id: 'cf-lakefront',
    regionId: 'central-florida',
    name: 'Lakefront Flex Storage',
    city: 'Winter Garden, FL',
    price: 930_000,
    sizeSqft: 59_000,
    occupancy: 0.79,
    avgRentPerSqft: 1.22,
    expensesAnnual: 685_800,
    issues: ['automation gaps', 'dated signage'],
    expansionPotential: 0.19,
    totalUnits: 500,
    debtService: 6_321,
    mix: {
      climateControlled: 190,
      driveUp: 220,
      vault: 90,
    },
  },
  {
    id: 'sf-biscayne',
    regionId: 'south-florida',
    name: 'Biscayne Urban Storage',
    city: 'Miami Riverfront, FL',
    price: 1_000_000,
    sizeSqft: 58_500,
    occupancy: 0.84,
    avgRentPerSqft: 1.48,
    expensesAnnual: 801_000,
    issues: ['elevator modernization needed', 'premium units underpriced'],
    expansionPotential: 0.12,
    totalUnits: 495,
    debtService: 6_893,
    mix: {
      climateControlled: 240,
      driveUp: 170,
      vault: 85,
    },
  },
  {
    id: 'sf-golden-sun',
    regionId: 'south-florida',
    name: 'Golden Sun Lockerworks',
    city: 'Fort Lauderdale Marina District, FL',
    price: 970_000,
    sizeSqft: 57_500,
    occupancy: 0.8,
    avgRentPerSqft: 1.42,
    expensesAnnual: 715_300,
    issues: ['manual gate operations', 'automation gaps'],
    expansionPotential: 0.2,
    totalUnits: 480,
    debtService: 6_687,
    mix: {
      climateControlled: 210,
      driveUp: 190,
      vault: 80,
    },
  },
  {
    id: 'sf-bay-harbor',
    regionId: 'south-florida',
    name: 'Bay Harbor Micro Storage',
    city: 'West Palm Corridor, FL',
    price: 955_000,
    sizeSqft: 55_000,
    occupancy: 0.76,
    avgRentPerSqft: 1.36,
    expensesAnnual: 616_200,
    issues: ['storm hardening required', 'dated signage'],
    expansionPotential: 0.18,
    totalUnits: 470,
    debtService: 6_583,
    mix: {
      climateControlled: 200,
      driveUp: 185,
      vault: 85,
    },
  },
]

export const findTradeArea = (id: string) => TRADE_AREAS.find((region) => region.id === id)

export const findFacility = (id: string) => START_FACILITIES.find((facility) => facility.id === id)
